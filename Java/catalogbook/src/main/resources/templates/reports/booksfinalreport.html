<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${heading}">Books by Genre</title>
    <style>
        :root{
          --bg:#f6f8fc; --text:#222; --muted:#667; --card:#fff;
          --border:#e3e7f0; --accent:#4c84ff;
        }
        *{box-sizing:border-box}
        body{
          margin:0; padding:32px;
          font-family: Arial, Helvetica, sans-serif;
          background:var(--bg); color:var(--text);
        }
        .container{max-width:960px;margin:0 auto}
        h1{
          text-align:center; margin:0 0 24px; font-size:1.9rem; color:#1d263b;
        }
        .card{
          background:var(--card); border:1px solid var(--border);
          border-radius:10px; padding:18px 18px 8px; box-shadow:0 2px 10px rgba(0,0,0,.05);
        }
        .meta{
          display:flex; gap:12px; align-items:center; justify-content:space-between;
          margin-bottom:12px; color:var(--muted); font-size:.95rem;
        }
        .table-wrap{overflow:auto; border:1px solid var(--border); border-radius:10px}
        table{
          width:100%; border-collapse:collapse; min-width:520px; background:#fff;
        }
        thead th{
          text-align:left; padding:10px 12px; font-weight:700; color:#39445e;
          background:#f9fbff; border-bottom:1px solid var(--border);
        }
        tbody td{
          padding:10px 12px; border-bottom:1px solid var(--border);
        }
        tbody tr:hover td{background:#fafcff}
        .badge{
          display:inline-block; padding:.15rem .5rem; border:1px solid var(--border);
          border-radius:999px; color:#39445e; background:#f4f7ff; font-size:.85rem;
        }
        .empty{
          text-align:center; color:var(--muted); padding:18px;
        }
        .back{
          display:inline-block; margin-top:14px; color:#fff; background:var(--accent);
          padding:10px 14px; border-radius:8px; text-decoration:none; font-weight:700;
        }
        .back:hover{opacity:.9}
    </style>
</head>
<body>
<div class="container">
    <h1 th:text="${heading}">Books by Genre</h1>

    <div class="card">
        <div class="meta">
            <div>
                <span class="badge" th:text="${keyLabel} + ' report'">Genre report</span>
            </div>
            <a class="back" href="/">‚Üê Back to Books</a>
        </div>

        <div class="table-wrap">
            <table>
                <thead>
                <tr>
                    <th th:text="${keyLabel}">Genre</th>
                    <th>Books</th>
                </tr>
                </thead>

                <tbody>
                <!-- rows -->
                <tr th:each="it, stat : ${items}">
                    <td th:text="${it.key}">Programming</td>
                    <td th:text="${it.count}">12</td>
                </tr>

                <!-- empty state -->
                <tr th:if="${items == null or #lists.isEmpty(items)}">
                    <td colspan="2" class="empty">No data available.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
</body>
</html>
